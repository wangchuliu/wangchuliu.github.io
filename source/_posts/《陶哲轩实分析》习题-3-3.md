---
title: 《陶哲轩实分析》习题 3.3
tags:
  - 数学
  - 陶哲轩实分析
katex: true
date: 2020-05-19 22:32:35
---

## <span class="indianred">3.3.1</span> 证明在定义 3.3.7 中相等的定义是自反的、对称的和传递的。再验证代入性质：如果 $f,\tilde{f}:X \to Y$，而且 $g,\tilde{g}: Y \to Z$ 是这样的函数，$f = \tilde{f}$ 且 $g = \tilde{g}$，那么 $g \circ f = \tilde{f} \circ \tilde{g}$。

<div class="list-underline list-bold"></div>

* 证明函数相等的的定义是自反的。

  反证法。假定不是自反的，则存在函数 $f: X \to Y$ 和 $x \in X$，使得 $f(x) \neq f(x)$，由定义 3.3.1 可知，对于给定的输入，函数的输出是唯一的，所以这是不可能的。

* 证明函数相等的的定义是对称的。

  若 $f \textcolor{red}{=} g$，那么两个函数的定义域和值域都相同，设它们的定义域为 $X$，根据定义 3.3.7，对于一切 $x \in X$，$f(x) = g(x)$，根据对称公理 $g(x) = f(x)$，综上，根据定义 3.3.7 可得 $g \textcolor{red}{=} f$。

  注意，红色的等号是定义 3.3.7 定义的相等，目前正在证明这种相等遵从相等公理，而黑色的等号是遵从相等公理的，下同。

* 证明函数相等的的定义是传递的。

  设有函数 $f: X \to Y$，$g: X \to Y$ 和 $h: X \to Y$，其中 $f \textcolor{red}{=} g$ 且 $g \textcolor{red}{=} h$。对于任意 $x \in X$，由定义 3.3.7 可知，$f(x) = g(x)$ 且 $g(x) = h(x)$，由传递公理得到 $f(x) = h(x)$，因此对于任意 $x \in X$，都有 $f(x) = h(x)$，根据定义 3.3.7 可知 $f \textcolor{red}{=} g$。

* 证明  $g \circ f = \tilde{f} \circ \tilde{g}$。

  此举将证明所定义的相对对于函数复合是满足代入公理的。

  首先由复合函数的定义可知，$g \circ f$ 和 $\tilde{f} \circ \tilde{g}$ 的定义域和值域都相同。

  由于 $f \textcolor{red}{=} \tilde{f}$，对于任意 $x \in X$，都有 $f(x) = \tilde{f}(x)$，由代入公理可得 $g(f(x)) = g(\tilde{f}(x))$，又因为 $g \textcolor{red}{=} \tilde{g}$，所以对于这个特定的 $y = \tilde{f}(x) \in Y$，必然有 $g(\tilde{f}(x)) = \tilde{g}(\tilde{f}(x))$，再由传递公理可得 $g(f(x)) = \tilde{g}(\tilde{f}(x))$。综上，对于任意 $x \in X$，都有 $g(f(x)) = \tilde{g}(\tilde{f}(x))$，由定义 3.3.7 可知，$g \circ f \textcolor{red}{=} \tilde{g} \circ \tilde{f}$。

## <span class="indianred">3.3.2</span> 设 $f: X \to Y$ 且 $g: Y \to Z$ 是函数。证明：如果 $f$ 和 $g$ 都是单射，则 $g \circ f$ 也是单射，类似地，证明：如果 $f$ 和 $g$ 都是满射，则 $g \circ f$ 也是满射。

<div class="list-underline list-bold"></div>

* 证明：如果 $f$ 和 $g$ 都是单射，则 $g \circ f$ 也是单射。

  对于任意 $x \in X, x' \in X, x \neq x'$，由于 $f$ 是单射，由定义 3.3.14 可知 $f(x) \neq f(x')$，又因为 $g$ 是单射，因此 $g(f(x)) \neq g(f(x'))$。综上，对于任意 $x \in X, x' \in X, x \neq x'$， $g(f(x)) \neq g(f(x'))$，由定义 3.3.14 可知 $g \circ f$ 是单射。

* 证明：如果 $f$ 和 $g$ 都是满射，则 $g \circ f$ 也是满射。

  因为 $g$ 都是满射，对于任意 $z \in Z$，至少存在一个 $y_z \in Y$ 使得 $g(y_z) = z$，又因为 $f$ 是满射，对于这个特定的 $y_z \in Y$，也至少存在一个 $x \in X$ 使得 $f(x) = y_z$，由代入公理可得 $g(f(x)) = z$。综上，对于任意 $z \in Z$，存在 $x \in X$ 使得 $g(f(x)) = z$，由定义 3.3.17 可知 $g \circ f$ 是满射。

## <span class="indianred">3.3.3</span> 何时空函数是单射？满射？双射？

设 $f: \varnothing \to Y$ 是空函数。

<div class="list-underline list-bold"></div>

* 证明空函数都是单射。

  反证法。假设空函数不是单射，由定义 3.3.14 可知，存在 $x \in \varnothing, x' \in \varnothing, x \neq x'$ 使得 $f(x) = f(x')$，然而由公理 3.2 可知，任何对象都不是空集的元素，因此并不存在满足条件的 $x$ 和 $x'$，所以空函数不可能不是单射。

* 证明空函数 $f: \varnothing \to Y$ 是满射当且仅当 $Y = \varnothing$。

  <div class="list-green"></div>

  * 如果空函数 $f: \varnothing \to Y$ 是满射，那么 $Y = \varnothing$。

    反证法。假定 $Y \neq \varnothing$，由引理 3.1.6 可知，存在 $y \in Y$，由于空函数 $f: \varnothing \to Y$ 是满射，存在 $x \in \varnothing$ 使得 $f(x) = y$，但根据公理 3.2 可知，对于任意对象 $x$ 都有 $x \in \varnothing$，矛盾。

  * 如果 $Y = \varnothing$，那么空函数 $f: \varnothing \to Y$ 是满射。

    对于任意对象 $y$，由于 $y \in \varnothing$ 总是假的，因此 $y \in \varnothing \to \exists x \in \varnothing, f(x) = y$ 总是真的（蕴含式为真当且仅当前件为假或后件为真）。根据定义 3.3.17，$f: \varnothing \to \varnothing$ 是满射。

综上可知，空函数何时都是单射，当值域是空集时，空函数是满射也是双射。

## <span class="indianred">3.3.4</span> 本段给出一些关于复合函数的消去律。设 $f : X \to Y$，$\tilde{f} : X \to Y$，$g : Y \to Z$ 且 $\tilde{g} : Y \to Z$ 都是函数。证明如果 $g \circ f = g \circ \tilde{f}$ 且 $g$ 是单射，那么 $f = \tilde{f}$。如果 $g$ 不是单射，同样的结论成立吗？证明如果 $g \circ f = \tilde{g} \circ f$ 且 $f$ 是满射，那么 $g = \tilde{g}$。如果 $f$ 不是满射，同样的结论成立吗？

<div class="list-underline list-bold"></div>

* 证明如果 $g \circ f = g \circ \tilde{f}$ 且 $g$ 是单射，那么 $f = \tilde{f}$。

  反证法。假定 $f \neq \tilde{f}$，那么存在 $x \in X$ 使得 $f(x) \neq \tilde{f}(x)$，由于 $g$ 是单射，所以有 $g(f(x)) \neq g(\tilde{f}(x))$，这与 $g \circ f = g \circ \tilde{f}$ 矛盾。

  如果 $g$ 不是单射，$f$ 可能不等于 $\tilde{f}$，下面给出例子：
  * $f : \{0\} \to \{0, 1\}$，$f(x) = 0$
    $\tilde{f} : \{0\} \to \{0, 1\}$，$\tilde{f}(x) = 1$
    $g: \{0, 1\} \to \{2\}$，$g(y) = 2$

* 证明如果 $g \circ f = \tilde{g} \circ f$ 且 $f$ 是满射，那么 $g = \tilde{g}$。

  反证法。假定 $g \neq \tilde{g}$，那么存在 $y \in Y$ 使得 $g(y) \neq \tilde{g}(y)$，由于 $f$ 是满射，因此对于这个特定的 $y$，存在一个 $x \in X$ 使得 $f(x) = y$，根据代入公理得到 $g(f(x)) \neq \tilde{g}(f(x))$，即存在 $x \in X$ 使得 $g \circ f \neq \tilde{g} \circ f$，与条件矛盾。

  如果 $f$ 不是满射，$g$ 可能不等于 $\tilde{g}$，下面给出例子：
  * $f : \{0\} \to \{0, 1\}$，$f(x) = 0$
    $g: \{0, 1\} \to \{0, 1\}$，$g(y) = 0$
    $g: \{0, 1\} \to \{0, 1\}$，$g(y) = y$

## <span class="indianred">3.3.5</span> 设 $f : X \to Y$ 且 $g : Y \to Z$ 是函数。证明 $g \circ f$ 是单射，那么 $f$ 必定是单射。$g$ 是不是也一定是单射？证明如果 $g \circ f$ 是满射，那么 $g$ 必定是满射。$f$ 也一定是满射吗？

<div class="list-underline list-bold"></div>

* 证明 $g \circ f$ 是单射，那么 $f$ 必定是单射。

  反证法。假定 $f$ 不是单射，那么存在 $x \neq x'$ 使得 $f(x) = f(x')$，由代入公理得 $g(f(x)) = g(f(x'))$，即存在 $x \neq x'$ 使得 $g \circ f (x) = g \circ f (x')$，这与 $g \circ f$ 是单射相矛盾。

  $g$ 不一定是单射，可以举出反例：
  * $f : \{0\} \to \{0, 1\}$，$f(x) = 0$
    $g : \{0, 1\} \to \{1\}$, $g(y) = 1$

* 证明如果 $g \circ f$ 是满射，那么 $g$ 必定是满射。

  反证法。假定 $g$ 不是满射，那么存在 $z \in Z$，对于任意 $y \in Y$，都有 $g(y) \neq z$，进而对于任意 $x \in X$，由于 $f(x) \in Y$，因此 $g(f(x)) \neq z$。综上，存在 $z \in Z$，对于任意 $x \in X$ 有 $g(f(x)) \neq z$，这与 $g \circ f$ 是满射相矛盾。

  $f$ 不一定是满射，可以举出反例：
  * $f : \{0\} \to \{0, 1\}$，$f(x) = 0$
    $g : \{0, 1\} \to \{1\}$, $g(y) = 1$

## <span class="indianred">3.3.6</span> 设 $f : X \to Y$ 是一个双射函数，并设 $f^{-1} : Y \to X$ 是 $f$ 的逆。验证对于一切 $x \in X$ 成立消去律 $f^{-1}(f(x)) = x$，以及对于一切 $y \in Y$ 成立消去律 $f(f^{-1}(y)) = y$。断定 $f^{-1}$ 也是可逆的，并且 $f$ 是它的逆（于是 $(f^{-1})^{-1} = f$）。

<div class="list-underline list-bold"></div>

* 证明对于一切 $x \in X$ 成立消去律 $f^{-1}(f(x)) = x$。

  由于 $f$ 是函数，对于一切 $x \in X$ 都有唯一对应的 $y_x$ 使得 $f(x) = y_x$ 成立，又因为 $f$ 是一个双射函数，对于这个 $y_x \in Y$ 存在一个记作 $f^{-1}(y_x)$ 的值，使得 $f(f^{-1}(y_x)) = y_x$，由于 $f$ 是双射函数，所以是单射的，因此 $f^{-1}(y_x) = x$，因为 $f(x) = y_x$， 由代入公理可得，$f^{-1}(f(x)) = x$。

  综上，对于一切 $x \in X$，$f^{-1}(f(x)) = x$。

* 证明对于一切 $y \in Y$ 成立消去律 $f(f^{-1}(y)) = y$。

  由于 $f$ 是双射函数，对于一切 $y \in Y$ 都恰有一个 $x$ 使得 $f(x) = y$，记为 $x = f^{-1}(y)$，由代入公理，将其代入 $f(x) = y$ 得到，$f(f^{-1}(y)) = y$。

* 证明 $f^{-1}$ 也是可逆的。

  要证明 $f^{-1}$ 即是要证明它是一个双射函数，即是要证明它既是单射又是满射。

  <div class="list-green"></div>

  * 证明 $f^{-1}$ 是单射。

    反证法。假定 $f^{-1}$ 不是单射的，那么存在 $x \neq x'$ 使得 $f^{-1}(x) = f^{-1}(x')$，由代入公理的，$f(f^{-1}(x)) = f(f^{-1}(x'))$，再由上面证明的消去律得到 $x = x'$，矛盾。

  * 证明 $f^{-1}$ 是满射。

    根据函数的定义，对于任意 $x \in X$ 都存在 $y$ 使得 $f(x) = y$，由代入公理可得，$f^{-1}(f(x)) = f^{-1}(y)$，再由上面证明的消去律可得，$x = f^{-1}(y)$。即对于任意 $x \in X$ 都存在 $y$ 使得 $f^{-1}(y) = x$，因此 $f^{-1}$ 是满射。

* 证明 $f^{-1}$ 的逆是 $f$。

  首先 $f^{-1}$ 的逆的定义域和值域和 $f$ 相同。

  $f^{-1}$ 可逆，对于任意 $x \in X$，恰有一个 $y$ 使得 $f^{-1}(y) = x$，记为 $(f^{-1})^{-1}(x)$；由于 $f : X \to Y$ 是函数，对于这个 $x$，恰有一个 $y'$ 使得 $f(x) = y'$，将 $f^{-1}(y) = x$ 代入得到 $f(f^{-1}(y)) = y'$，根据上面证明的消去律可得 $y = y'$，即 $f(x) = y = (f^{-1})^{-1}(x)$。

  综上，对于任意 $x \in X$，$f(x) = (f^{-1})^{-1}(x)$，于是 $f$ 是 $f^{-1}$ 的逆。

## <span class="indianred">3.3.7</span> 设 $f : X \to Y$ 且 $g : Y \to Z$ 是函数。证明如果 $f$ 和 $g$ 都是双射，那么 $g \circ f$ 也是双射，并且 $(g \circ f)^{-1} = f^{-1} \circ g^{-1}$。

由于 $f$ 和 $g$ 都是双射，所以也都是单射，根据习题 3.3.2 的结论，$g \circ f$ 是单射；并且由于 $f$ 和 $g$ 都是双射，所以也都是满射，再次根据 3.3.2 的结论，$g \circ f$ 是满射；由于 $g \circ f$ 既是单射又是满射，因此是双射。

首先，容易知道 $(g \circ f)^{-1}$ 和 $f^{-1} \circ g^{-1}$ 的定义域和值域都是相同的。

对于任意 $x \in X$ 恰有一个 $y \in Y$ 使得 $(g \circ f)^{-1}(x) = y$，复合函数 $f^{-1} \circ g^{-1}$ 也有一个 $y' \in Y$ 使得 $f^{-1} \circ g^{-1}(x) = y'$。对 $(g \circ f)^{-1}(x) = y$ 应用代入公理得到 $g \circ f((g \circ f)^{-1}(x)) = g \circ f(y)$，再对左边应用消去律可得 $x = g \circ f(y)$。类似地，由 $f^{-1} \circ g^{-1}(x) = y'$ 可以得到 $x = g \circ f(y')$。得到 $g \circ f(y) = g \circ f(y')$，由于 $g \circ f$ 是满射，所以也是单射，因此 $y = y'$。

综上可得，对于任意 $x \in X$，$(g \circ f)^{-1}(x) = f^{-1} \circ g^{-1}(x)$，因此 $(g \circ f)^{-1} = f^{-1} \circ g^{-1}$。

## <span class="indianred">3.3.7</span> 如果 $X$ 是 $Y$ 的一个子集，令 $\tau_{X \to Y} : X \to Y$ 是从 $X$ 到 $Y$ 的包含映射，即：对于一切 $x \in X$，$\tau_{X \to Y} := x$。映射 $\tau_{X \to X}$ 特称为 $X$ 上的恒等映射。

<div class="list-underline list-bold list-lower-alpha"></div>

* 证明：如果 $X \subseteq Y \subseteq Z$，那么 $\tau_{Y \to Z} \circ \tau_{X \to Y} = \tau_{X \to Z}$。

  容易知道 $\tau_{Y \to Z} \circ \tau_{X \to Y}$ 和 $\tau_{X \to Z}$ 的作用域和值域相同。对于任意 $x \in X$
  $$\begin{aligned}
    \tau_{Y \to Z} \circ \tau_{X \to Y}(x) &= \tau_{Y \to Z}(\tau_{X \to Y}(x)) \quad\text{由复合函数定义}\\
                                           &= \tau_{Y \to Z}(x) \quad\text{由包含映射定义}\\
                                           &= x \quad\text{由包含映射定义}\\
  \end{aligned}$$
  根据包含映射的定义可知 $\tau_{X \to Z} = x$，因此 $\tau_{Y \to Z} \circ \tau_{X \to Y} = \tau_{X \to Z}$。

* 证明：如果 $f : A \to B$ 是一个函数，那么 $f = f \circ \tau_{A \to A} = \tau_{B \to B} \circ f$。

  容易知道 $f$、$f \circ \tau_{A \to A}$ 和 $\tau_{B \to B} \circ f$ 的定义域和值域都是相同的。根据恒等映射的定义，对于任意 $a \in A$
  $$
    f \circ \tau_{A \to A}(a) = f(\tau_{A \to A}(a)) = f(a)\\
    \tau_{B \to B} \circ f(a) = \tau_{B \to B}(f(a)) = f(a)
  $$
  因此 $f = f \circ \tau_{A \to A} = \tau_{B \to B} \circ f$。

* 证明：如果 $f : A \to B$ 是双射函数，那么 $f \circ f^{-1} = \tau_{B \to B}$ 而且 $f^{-1} \circ f = \tau_{A \to A}$。

  由习题 3.3.6 证明的消去律可知，对于任意 $b \in B$，$f \circ f^{-1}(b) = b$，再由恒等映射定义可知 $\tau_{B \to B} = b$，因此 $f \circ f^{-1} = \tau_{B \to B}$。

  由消去律可知，对于任意 $a \in A$，$f^{-1} \circ f (a) = a$，同时由恒等映射定义可知 $\tau_{A \to A}(a) = a$，因此 $f^{-1} \circ f = \tau_{A \to A}$。

* 证明：如果 $X$ 和 $Y$ 是不交的集合，而且 $f : X \to Z$，$g : Y \to Z$ 是函数，那么存在唯一的函数 $h : X \cup Y \to Z$，使得 $h \circ \tau_{X \to X \cup Y} = f$ 且 $h \circ \tau_{Y \to X \cup Y} = g$。

  <div class="list-green"></div>

  * 先证明一个引理：对于任意 $t \in X \cup Y$，要么 $t \in X$ 要么 $t \in Y$，二者只能且只能有一个成立。

    反证法。假设二者都不成立或二者同时成立。若都不成立都不成立，那么 $t \notin X \cup Y$，矛盾；若二者同时成立，那么 $t \in X \cap Y$，即 $X \cap B \neq \varnothing$，矛盾。

  * 存在性

    由引理可知下面的定义是成功的
    $$h(t)=\begin{cases}
      f(t) & \text{若 } t \in X\\
      g(t) & \text{若 } t \in Y\\
    \end{cases}$$

    容易知道 $h \circ \tau_{X \to X \cup Y}$ 和 $f$ 作用域和值域都相同，对于任意 $x \in X$，$h \circ \tau_{X \to X \cup Y}(x) = h(\tau_{X \to X \cup Y}(x)) = h(x) = f(x)$，因此 $h \circ \tau_{X \to X \cup Y} = f$。

    同理，$h \circ \tau_{Y \to X \cup Y}$ 和 $g$ 作用域和值域都相同，由于对于任意 $y \in Y$，$h \circ \tau_{Y \to X \cup Y}(y) = h(\tau_{Y \to X \cup Y}(y)) = h(y) = g(y)$，因此 $h \circ \tau_{Y \to X \cup Y} = g$。

  * 唯一性

    反证法。假设存在 $h' \neq h$ 使得 $h' \circ \tau_{X \to X \cup Y} = f$ 且 $h' \circ \tau_{Y \to X \cup Y} = g$。由于 $h' \neq h$，那么存在 $t \in X \in Y$，使得 $h'(t) \neq h(t)$

    * 若 $t \in X$，$h' \circ \tau_{X \to X \cup Y}(t) = h'(t) = f(t)$ 且 $h \circ \tau_{X \to X \cup Y}(t) = h(t) = f(t)$，因此 $h'(t) = h(t) = f(t)$，矛盾。
    * 若 $t \in Y$，$h' \circ \tau_{Y \to X \cup Y}(t) = h'(t) = g(t)$ 且 $h \circ \tau_{Y \to X \cup Y}(t) = h(t) = g(t)$，因此 $h'(t) = h(t) = g(t)$，矛盾。

    综上，$h' = h$，即复合条件的函数是唯一的。